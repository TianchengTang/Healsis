<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="icon" href="../../img/logos/3.ico">

    <title>Dashboard</title>

    <!-- Bootstrap core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="../../css/dashboard.css" rel="stylesheet">
    <!-- CSS of sb-admin templates -->
    <link href="../../css/sb-admin.css" rel="stylesheet">
	
    <script src="../../js/ie-emulation-modes-warning.js"></script>	

  </head>

  <body style="background-color: #F6F6F6">

	<!-- Header -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid" style="background-color: #FFF">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
		  <img style="float:left; padding-top:5px; margin-right:20px" src="../../img/logo.png" height="15%" width="15%">
          <a class="navbar-brand">Healsis</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
			<a href="../../index.html" type="button" class="btn btn-sm btn-default"  
			 style="font-size:14px; padding-left:15px; padding-right:15px; margin-top:10px; margin-right:20px; float:right">Logout</a>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
	    
		<!-- Navigation Bar -->
		<div class="col-sm-3 col-md-2 sidebar">
		  <div class="nav-sidebar-subtitle">Data Base</div>  
          <ul class="nav nav-sidebar">
            <li><a href="../dashboard.html">Client Data Inquiry</a></li>
            <li class="selected"><a href="patient_data_update.html">Client Data Update</a></li>
            <li><a href="neighbor_stat.html">Neighborhood Statistics</a></li>
            <li><a href="staff_contact.html">Staff Contact Info</a></li>
			<li><a href="my_profile.html">My Profile</a></li>
          </ul>
		  <div class="nav-sidebar-subtitle">Task Center</div> 
          <ul class="nav nav-sidebar">
            <li><a href="assign_tasks.html">Assgin Tasks</a></li>
            <li><a href="my_tasks.html">My Tasks</a></li>
            <li><a href="generate_reg.html">Generate Reg Key</a></li>
          </ul>
		  <div class="nav-sidebar-subtitle">Personal Health</div>
          <ul class="nav nav-sidebar">
            <li><a href="http://52.91.195.128:8000/nanohealth/">My H-Graph</a></li>
          </ul>
        </div>
		
		<!-- Main Frame -->
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          <h1 class="page-header">Client Data Update</h1>

		  <!-- Section Title --> 
          <!-- <h2 class="sub-header">Section title</h2> -->
		  
		  <div class="row">
		  
		    <!-- Input Column 1/2 -->
		    <div class="col-md-5">			
			  <div class="row">
				<label class="item-name col-md-5">Patient ID</label>
				<input id="txtFd_PatientID" class="form-control input-field col-md-7" style="width:35%">						  
				<button type="button" class="btn btn-sm btn-default btn-big" style="width:16%; margin-left:5px;"
				 onclick="clickFind()">Find</button>
			  </div>
			  <div class="row">
				<label class="item-name col-md-5">First Name</label>
				<input id="txtFd_FirstName" class="form-control input-field col-md-7">
			  </div>		  
			  <div class="row">
				<label class="item-name col-md-5">Last Name</label>
				<input id="txtFd_LastName" class="form-control input-field col-md-7">
			  </div>			  
			  <div class="row">
				<label class="item-name col-md-5">Hypertension</label>
				<select id="txtSel_Hypertension" class="form-control select-list col-md-7">
					<option>Y</option>
					<option>N</option>
				</select>
              </div>
			  <div class="row">
				<label class="item-name col-md-5">Diabetes</label>
				<select id="txtSel_Diabetes" class="form-control select-list col-md-7">
					<option>Y</option>
					<option>N</option>
				</select>
              </div>			  
			  <div class="row">
				<label class="item-name col-md-5">Blood Pressure</label>
				<input id="txtFd_BloodPressure" class="form-control input-field col-md-7">
			  </div>			  
			  <div class="row">
				<label class="item-name col-md-5">Blood Sugar</label>
				<input id="txtFd_BloodSugar" class="form-control input-field col-md-7">
			  </div>
			  <div class="row">
				<label class="item-name col-md-5">Urination Count</label>
				<input id="txtFd_UriCount" class="form-control input-field col-md-7">
			  </div>			  
			  <div class="row">
				<label class="item-name col-md-5">Dry Tongue</label>
				<input id="txtFd_DryTongue" class="form-control input-field col-md-7">
			  </div>			  
			  
			</div>


			  
			<!-- Input Column 2/2 -->
		    <div class="col-md-5">
			  <div class="row">
				<label class="item-name col-md-5">Gender</label>
				<select id="txtSel_Gender" class="form-control select-list col-md-7">
					<option>F</option>
					<option>M</option>
				</select>
              </div>		  	  
			  <div class="row">
				<label class="item-name col-md-5">Height (Feet)</label>
				<input id="txtFd_Height" class="form-control input-field col-md-7">
			  </div>			  
			  <div class="row">
				<label class="item-name col-md-5">Weight (Kg)</label>
				<input id="txtFd_Weight" class="form-control input-field col-md-7">
			  </div>			
			  <div class="row">
				<label class="item-name col-md-5">Area</label>
				<select id="txtSel_Area" class="form-control select-list col-md-7">
					<option>Area</option>
					<option>Kulkatpally</option>
				</select>
              </div>
			  <div class="row">
				<label class="item-name col-md-5">Location</label>
				<select id="txtSel_Location" class="form-control select-list col-md-7">
				  <option>Location</option>
		          <option>FatehNagar</option>
		          <option>GopiNagar</option>
		          <option>Guttala Begumpet</option>
		          <option>HanumanNagar</option>
		          <option>Indiragandhipuram</option>
		          <option>IndiraNagar</option>
		          <option>IzzatNagar</option>
		          <option>JanathaNagar</option>
		          <option>Kaithalapur</option>
		          <option>MarthandaNagar</option>
		          <option>Papireddy Colony</option>
		          <option>PremNagar</option>
		          <option>RamakrishnaNagar</option>
		          <option>Shivashankar</option>
		          <option>SiddiqNagar</option>
		          <option>TaraNagar</option>
		          <option>VenkateshwarNagar</option>
		          <option>Yellamabanda</option>					
				</select>
              </div>
			  <div class="row">
				<label class="item-name col-md-5">Comments</label>
				<textarea id="txtAr_Comments" class="form-control input-area col-md-7" style="width:220px; height:150px"
				 maxlength="140"></textarea> <!-- maxlength = max number of the input letters in this text area -->
			  </div>
			  <div class="row">
			    <label class="item-name col-md-5"></label>
				<p class="col-md-7" style="margin-top:7px; margin-left:-4px">Less than 140 Letters</p>
			  </div>
			</div>

			
		  </div>
		  
		  <!-- center aligning has no effect if the width property is not set or set to 100% -->
		  <div id="btn_Update" class="row" style="margin:auto; width:30%; margin-top:5px">
			<button type="button" class="btn btn-sm btn-default btn-big" onclick="clickUpdate()">Update</button>
		  </div>
		  
		  
        </div>
      </div>
    </div>

	<!-- Scripts are placed at the end of the document so the pages load faster -->
    <!-- Bootstrap core JavaScript -->
    <script src="../../js/bootstrap.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="../../js/jquery.js"></script>


    <script>
		function clickFind() {
			var patientID = document.getElementById("txtFd_PatientID").value;

			showPatientData(patientID);		
		}
	</script>

	<script>
		function showPatientData(patientID) {

			var jsonData;
			$.getJSON('../../json/patients.json', function(data){
				jsonData = data;
			    for (var i = 0; i < jsonData.length; i++) {	
			    	if (jsonData[i].ptnt_rgstrtn_id_tmp == patientID) {
						document.getElementById("txtSel_Hypertension").value = jsonData[i].Hypertensive;
						document.getElementById("txtSel_Diabetes").value = jsonData[i].Diabetic;
						document.getElementById("txtFd_BloodPressure").value = 
							"High: " + jsonData[i].bp_systlc + "; Low: " + jsonData[i].bp_dstlc;;
						document.getElementById("txtFd_BloodSugar").value = jsonData[i].bld_sgr;
						document.getElementById("txtFd_UriCount").value = jsonData[i].UrinationCount;
						document.getElementById("txtFd_DryTongue").value = jsonData[i].Dry_Tongue;
						document.getElementById("txtSel_Gender").value = jsonData[i].gndr;
						document.getElementById("txtFd_Height").value = jsonData[i].hght_ft;
						document.getElementById("txtFd_Weight").value = jsonData[i].wght;
						document.getElementById("txtSel_Area").value = jsonData[i].patient_Area;
						document.getElementById("txtSel_Location").value = jsonData[i].patient_Location;

			    		break;
			    	}
			    }
			    // We didn't find the specific patientID in the list of all the patients
			    if ((i==jsonData.length) && (jsonData[i-1].ptnt_rgstrtn_id_tmp!=patientID)) {
			    	alert ("This patient does not exist, please modify your input.");
			    }
			});
		
		}
	</script>	
	
  </body>
</html>
